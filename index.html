<!DOCTYPE html>
<html>

<head>
    <title>W3.CSS Template</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Amatic+SC">
    <style>
        body,
        html {
            height: 100%
        }

        body,
        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            font-family: "Amatic SC", sans-serif
        }

        .menu {
            display: none
        }

        .bgimg {
            background-repeat: no-repeat;
            background-size: cover;
            background-image: url("/w3images/pizza.jpg");
            min-height: 90%;
        }
    </style>



</head>

<body>



    <!-- Menu Container -->
    <div class="w3-container w3-black w3-padding-64 w3-xxlarge" id="menu">
        <div class="w3-content" id="menu_content">

            <h1 class="w3-center w3-jumbo" style="margin-bottom:64px">Menu</h1>
            <div class="w3-row w3-center w3-border w3-border-dark-grey" id="categorias_id">
            </div>

            <!-- <div id="Pizza" class="w3-container menu w3-padding-32 w3-white">
      <h1><b>Margherita</b> <span class="w3-right w3-tag w3-dark-grey w3-round">$12.50</span></h1>
      <p class="w3-text-grey">Fresh tomatoes, fresh mozzarella, fresh basil</p>
      <hr>
   
      <h1><b>Formaggio</b> <span class="w3-right w3-tag w3-dark-grey w3-round">$15.50</span></h1>
      <p class="w3-text-grey">Four cheeses (mozzarella, parmesan, pecorino, jarlsberg)</p>
      <hr>
      
      <h1><b>Chicken</b> <span class="w3-right w3-tag w3-dark-grey w3-round">$17.00</span></h1>
      <p class="w3-text-grey">Fresh tomatoes, mozzarella, chicken, onions</p>
      <hr>

      <h1><b>Pineapple'o'clock</b> <span class="w3-right w3-tag w3-dark-grey w3-round">$16.50</span></h1>
      <p class="w3-text-grey">Fresh tomatoes, mozzarella, fresh pineapple, bacon, fresh basil</p>
      <hr>

      <h1><b>Meat Town</b> <span class="w3-tag w3-red w3-round">Hot!</span><span class="w3-right w3-tag w3-dark-grey w3-round">$20.00</span></h1>
      <p class="w3-text-grey">Fresh tomatoes, mozzarella, hot pepporoni, hot sausage, beef, chicken</p>
      <hr>

      <h1><b>Parma</b> <span class="w3-tag w3-grey w3-round">New</span><span class="w3-right w3-tag w3-dark-grey w3-round">$21.50</span></h1>
      <p class="w3-text-grey">Fresh tomatoes, mozzarella, parma, bacon, fresh arugula</p>
    </div>

    <div id="Pasta" class="w3-container menu w3-padding-32 w3-white">
      <h1><b>Lasagna</b> <span class="w3-tag w3-grey w3-round">Popular</span> <span class="w3-right w3-tag w3-dark-grey w3-round">$13.50</span></h1>
      <p class="w3-text-grey">Special sauce, mozzarella, parmesan, ground beef</p>
      <hr>
   
      <h1><b>Ravioli</b> <span class="w3-right w3-tag w3-dark-grey w3-round">$14.50</span></h1>
      <p class="w3-text-grey">Ravioli filled with cheese</p>
      <hr>
      
      <h1><b>Spaghetti Classica</b> <span class="w3-right w3-tag w3-dark-grey w3-round">$11.00</span></h1>
      <p class="w3-text-grey">Fresh tomatoes, onions, ground beef</p>
      <hr>

      <h1><b>Seafood pasta</b> <span class="w3-right w3-tag w3-dark-grey w3-round">$25.50</span></h1>
      <p class="w3-text-grey">Salmon, shrimp, lobster, garlic</p>
    </div>


    <div id="Starter" class="w3-container menu w3-padding-32 w3-white">
      <h1><b>Today's Soup</b> <span class="w3-tag w3-grey w3-round">Seasonal</span><span class="w3-right w3-tag w3-dark-grey w3-round">$5.50</span></h1>
      <p class="w3-text-grey">Ask the waiter</p>
      <hr>
   
      <h1><b>Bruschetta</b> <span class="w3-right w3-tag w3-dark-grey w3-round">$8.50</span></h1>
      <p class="w3-text-grey">Bread with pesto, tomatoes, onion, garlic</p>
      <hr>
      
      <h1><b>Garlic bread</b> <span class="w3-right w3-tag w3-dark-grey w3-round">$9.50</span></h1>
      <p class="w3-text-grey">Grilled ciabatta, garlic butter, onions</p>
      <hr>
      
      <h1><b>Tomozzarella</b> <span class="w3-right w3-tag w3-dark-grey w3-round">$10.50</span></h1>
      <p class="w3-text-grey">Tomatoes and mozzarella</p>
    </div><br> -->

        </div>
    </div>

    <!-- About Container -->
    <div class="w3-container w3-padding-64 w3-red w3-grayscale w3-xlarge" id="about">
        <div class="w3-content">
            <h1 class="w3-center w3-jumbo" style="margin-bottom:64px">About</h1>
            <p>The Pizza Restaurant was founded in blabla by Mr. Italiano in lorem ipsum dolor sit amet, consectetur
                adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim
                veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
            <p><strong>The Chef?</strong> Mr. Italiano himself<img src="/w3images/chef.jpg" style="width:150px"
                    class="w3-circle w3-right" alt="Chef"></p>
            <p>We are proud of our interiors.</p>
            <img src="/w3images/onepage_restaurant.jpg" style="width:100%" class="w3-margin-top w3-margin-bottom"
                alt="Restaurant">
            <h1><b>Opening Hours</b></h1>

            <div class="w3-row">
                <div class="w3-col s6">
                    <p>Mon & Tue CLOSED</p>
                    <p>Wednesday 10.00 - 24.00</p>
                    <p>Thursday 10:00 - 24:00</p>
                </div>
                <div class="w3-col s6">
                    <p>Friday 10:00 - 12:00</p>
                    <p>Saturday 10:00 - 23:00</p>
                    <p>Sunday Closed</p>
                </div>
            </div>

        </div>
    </div>

    <!-- Image of location/map -->

    <!-- Contact -->
    <div class="w3-container w3-padding-64 w3-blue-grey w3-grayscale-min w3-xlarge">
        <div class="w3-content">
            <h1 class="w3-center w3-jumbo" style="margin-bottom:64px">Sobre nosotros</h1>
            <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Perspiciatis laudantium beatae asperiores
                ratione voluptate culpa, eaque in, error iusto maxime dignissimos sit et quaerat quisquam vero? Maxime
                quasi dolores nemo?</p>
            <p><span class="w3-tag">FYI!</span> Lorem ipsum dolor sit amet consectetur adipisicing elit. Minus
                aspernatur facilis sequi accusamus dolorum in distinctio nostrum temporibus eius iure blanditiis
                quisquam explicabo, odio iusto fuga sunt error a quia.</p>
        </div>
    </div>



    <script>
        // Tabbed Menu



        function openMenu(evt, menuName) {
            var i, x, tablinks;
            x = document.getElementsByClassName("menu");
            for (i = 0; i < x.length; i++) {
                x[i].style.display = "none";
            }
            tablinks = document.getElementsByClassName("tablink");
            for (i = 0; i < x.length; i++) {
                tablinks[i].className = tablinks[i].className.replace(" w3-red", "");
            }
            document.getElementById("id_" + menuName).style.display = "block";
            evt.currentTarget.firstElementChild.className += " w3-red";
        }

        (async () => {
        var response = await fetch("https://script.google.com/macros/s/AKfycbzBjl-wVLo_0pJhNHVa-Fjk0L4PCRwDg3PFHCbrWVMewMh81rSDUwx_rcNNLU8YTmdEGQ/exec");
        var json_productos = await response.json();

        function agregar_categoria(nombre_categoria) {
            var id_categoria = "id_" + nombre_categoria.replace(" ", "_");
            var botones_categorias = document.querySelector("#categorias_id");
            var es_primer_categoria = botones_categorias.children.length == 0;
            botones_categorias.innerHTML += ` <a href="javascript:void(0)" onclick="openMenu(event, '${nombre_categoria}');" id="id_${id_categoria}">
                                            <div class="w3-col s4 tablink w3-padding-large w3-hover-red">${nombre_categoria}</div>
                                        </a>`;
            var contenido_menu = document.querySelector("#menu_content");
            var contenido_categoria = document.createElement("div");
            contenido_categoria.id = id_categoria;
            contenido_categoria.className = "w3-container menu w3-padding-32 w3-white";
            menu_content.append(contenido_categoria);

            if (es_primer_categoria) {
                document.getElementById(id_categoria).style.display = "block";
                // document.getElementById(id_categoria).firstElementChild.className =  " w3-red";
            }
        }

        function agregar_producto(nombre_categoria, nombre_producto, precio, comentario, descripcion) {
            var id_categoria = "id_" + nombre_categoria.replace(" ", "_");
            var contenido_categorias = document.getElementById(id_categoria);
            if (comentario != "") {
                contenido_categorias.innerHTML += ` <h1>
                                                <b>${nombre_producto}</b> 
                                                <span class="w3-tag w3-red w3-round">${comentario}</span>
                                                <span class="w3-right w3-tag w3-dark-grey w3-round">$${precio}</span>
                                            </h1>
                                            <p class="w3-text-grey">${descripcion}</p>
                                            <hr>`;
            }
            else {
                contenido_categorias.innerHTML += ` <h1>
                                                <b>${nombre_producto}</b> 
                                                <span class="w3-right w3-tag w3-dark-grey w3-round">$${precio}</span>
                                            </h1>
                                            <p class="w3-text-grey">${descripcion}</p>
                                            <hr>`;
            }







        }

        var categorias = Object.keys(json_productos);
        for (id_categoria of categorias) {
            agregar_categoria(json_productos[id_categoria].nombre_categoria);
            var productos = Object.keys(json_productos[id_categoria].productos);
            for (id_producto of productos) {
                agregar_producto(json_productos[id_categoria].nombre_categoria, 
                                 json_productos[id_categoria].productos[id_producto].nombre_producto, 
                                 json_productos[id_categoria].productos[id_producto].precio, 
                                 json_productos[id_categoria].productos[id_producto].comentario, 
                                 json_productos[id_categoria].productos[id_producto].descripcion);
            }
        }
    })();

    </script>

</body>

</html>
